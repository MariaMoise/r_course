getwd()
read.table(file = "a.txt", header = TRUE)
read.table(file = "a.txt")
read.table(file = "lol.txt", header = TRUE)
getwd()
read.table(file = "lol.txt", header = TRUE)
galas <- read.table(file = "lol.txt", header = TRUE)
View(galas)
View(galas)
lm(galas[,1] ~ galas[,2])
View(galas)
summary(galas)
knitr::opts_chunk$set(echo = TRUE)
install.packages('tinytex')
tinytex::install_tinytex()
popular_packs <- c('babel-russian', 'cyrillic', 'cm-super',
'lh', 'makecmds', 'polyglossia', 'ulem',
'siunitx', 'multirow', 'xcolor', 'colortbl')
tinytex::tlmgr_install(popular_packs)
devtools::install_github('bdemeshev/azbuka')
setwd("C:/Users/icef_guest/Desktop/etalon/r_course")
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(tidyverse) # обработка данных, графики...
library(skimr) # описательные статистики
library(rio) # импорт фантастического количества форматов данных
library(broom) # метла превращает результаты оценивания моделей в таблички
library(Ecdat) # много-много разных наборов данных
library(ISLR) # ещё данные
library(sandwich) # оценка Var для гетероскедастичности
library(caret) # пакет для подбора параметров разных моделей
library(FFTrees) # быстрые деревья
library(margins) # для подсчёта предельных эффектов
library(rpart.plot) # для картинок деревьев
library(plotROC) # визуализация ROC-кривой
library(ggeffects) # графики для предельных эффектов
library(MLmetrics) # метрики качества
install.packages(c("ISLR", "caret", "FFTrees", "margins", "rpart.plot", "plotROC", "MLmetrics"))
educ <- import('xAPI-Edu-Data.csv')
skim(educ)
educ_logit <- mutate(educ, y = fct_collapse(Class, H = c('M', 'H')))
glimpse(educ)
educ_logit <- mutate(educ, y = fct_collapse(Class, H = c('M', 'H')))
educ_fct <- mutate_if(educ_logit, is.character, factor)
glimpse(educ_fct)
set.seed(777)
train_rows <- createDataPartition(educ_fct$y, p = 0.8, list = FALSE)
createDataPartition()
?createDataPartition()
library(caret) # пакет для подбора параметров разных моделей
library(FFTrees) # быстрые деревья
library(margins) # для подсчёта предельных эффектов
library(rpart.plot) # для картинок деревьев
library(plotROC) # визуализация ROC-кривой
library(ggeffects) # графики для предельных эффектов
set.seed(777)
train_rows <- createDataPartition(educ_fct$y, p = 0.8, list = FALSE)
educ_train <- educ_fct[train_rows, ]
educ_test <- educ_fct[-train_rows, ]
educ_lmodel_glm <- glm(data = educ_train, y ~ gender + SectionID + raisedhands, family = binomial(link = 'logit'))
summary(educ_lmodel_glm)
set.seed(777)
train_rows <- createDataPartition(educ_fct$y, p = 0.8, list = FALSE)
educ_train <- educ_fct[train_rows, ]
educ_test <- educ_fct[-train_rows, ]
educ_lmodel_glm <- glm(data = educ_train, y ~ gender + SectionID + raisedhands, family = binomial(link = 'logit'))
summary(educ_lmodel_glm)
educ_lmodel_glm <- glm(data = educ_train,
#y ~ .-Class
y ~ gender + SectionID + raisedhands, family = binomial(link = 'logit'))
educ_lmodel_glm <- glm(data = educ_train,
y ~ gender + SectionID + raisedhands, family = binomial(link = 'logit'))
summary(educ_lmodel_glm)
exp(-0.07)
9*exp(-0.07)
8,4/9,4
8.4/9.4
1*exp(-0.07)/1+exp(-0.07)
educ_margins <- margins(educ_lmodel_glm)
summary(educ_margins)
pred_educ_vis <- ggpredict(educ_lmodel_glm, terms = c('raisedhands', 'gender'))
pred_educ_vis <- plot(pred_educ_vis)
plot(pred_educ_vis)
pred_educ_vis <- ggpredict(educ_lmodel_glm, terms = c('raisedhands', 'SectionID'))
plot(pred_educ_vis)
pred_educ_vis <- ggpredict(educ_lmodel_glm, terms = c('raisedhands', 'gender'))
plot(pred_educ_vis)
educ_lmodel <- train(data = educ_train, y ~ gender + SectionID + raisedhands, family = binomial(link = 'logit'), method = 'glm')
summary(educ_lmodel)
educ_pred <- predict(educ_lmodel, newdata = educ_test)
head(educ_pred)
educ_prob <- predict(educ_lmodel, newdata = educ_test, type = 'prob')
head(educ_prob)
View(pred_educ_vis)
confusionMatrix(data = educ_pred, reference = educ_test$y)
install.packages("ranger")
tree_model <- train(y ~ . - Class, data = educ_test,
method = 'rpart2',
na.action = na.omit)
rpart.plot(tree_model$finalModel)
